springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    operations-sorter: method
    tags-sorter: alpha
    doc-expansion: none
    deep-linking: true
    filter: true
  override-with-generic-response: false
  remove-broken-reference-definitions: false
  group-configs:
    - group: App
      paths-to-match:
        - /api/v1/auth/**
        - /api/v1/admin/**
        - /api/diagnostic/**
    - group: MIP
      paths-to-match:
        - /api/v1/mip/**
        - /api/v1/pf/mip/**
    - group: MinJust
      paths-to-match:
        - /api/v1/pf/minyust/**
    - group: Statistics
      paths-to-match:
        - /api/v1/pf/statistics/**
    - group: MIB
      paths-to-match:
        - /api/v1/pf/mib/**

logging:
  level:
    root: info
    org.springframework:
      web: debug
    io: debug
    uz.fido.pfexchange: debug

app:
  serialization:
    default: camel
    strategies:
      snake:
        username:
          - pension_gov
          - pension_fund_db

  logging:
    enabled: true
    log-request-body: true
    log-response-body: true
    loh-headers: false
    max-body-length: 4000
    exclude-endpoints:
      - /favicon.ico
      - /login.html
      - /css/*
      - /js/*
      - /img/*
      - /admin/css/*
      - /admin/js/*
      - /admin/logs.html
      - /admin/index.html
      - /api/v1/admin/actuator/**
      - /swagger-ui/**
      - /swagger-ui.html
      - /v3/api-docs/**
      - /v3/api-docs
      - /swagger-resources/**
      - /webjars/**
      - /api/v1/pf/minyust/family/batch/**
      - /api/v1/admin/logs/**
      - /api/v1/admin/actuator/metrics/process.uptime
    async: false

  jwt:
    secretKey: ${JWT_SECRET_KEY}
    expireHours: 24
    asymmetric:
      enabled: ${JWT_ASYMMETRIC_ENABLED:false}
      system-name: pensiya-dm
      key-id: pfexchange-2026
      expire-minutes: 60
      private-key-base64: ${JWT_ASYMMETRIC_PRIVATE_KEY_BASE64:}
      public-key-base64: ${JWT_ASYMMETRIC_PUBLIC_KEY_BASE64:}

  minyust:
    batch:
      scheduled-enabled: false
      batch-size: 500
      thread-pool-size: 10
      rate-limit-per-second: 20
      schedule-interval-ms: 120000 # 2 minutes
      batch-timeout-minutes: 15
      stuck-record-threshold-minutes: 10
      recovery-interval-ms: 300000 # 5 minutes
      max-retries: 3
      circuit-breaker:
        failure-threshold: 5
        open-duration-ms: 120000 # 2 minutes
        half-open-success-threshold: 5
